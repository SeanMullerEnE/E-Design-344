* D:\Engineering\2022\Semester 2\E Design 344\Project\Assignment 4\LTSpice4b\E344_23575786_A4b.asc
V2 N004 0 5
RSense5V N004 5V 1µ
D2 0 motor_voltage 1N4148
V1 N001 N002 PWL(0 0 50m 6.5 100m 0)
V3 N002 0 PULSE(0 6.5 100m 0 0 30m 100m 3)
Q2 Vbatt N003 motor_voltage 0 Qtip31c
V5 Vbatt 0 6.5
Rm N005 N006 {R_motor}
L1 motor_voltage N005 {L_motor}
B_EMF N006 0 V=V(Omega)*K_emf
B5 0 Omega I=k_t*I(B_EMF)
B6 Omega 0 I=sgn(V(Omega))*min(Tint,0.1*abs(v(Omega)))
C_J_intertia1 Omega 0 {J}
R_B_friction1 Omega 0 {1/B}
R_mc N001 motor_control 1µ
Q1 Vbatt motor_control N003 0 2N2222
.model D D
.lib C:\Users\seanm\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.dio
.model NPN NPN
.model PNP PNP
.lib C:\Users\seanm\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.bjt
* Don't change these -- used for auto-assessments.\nYou may modify the input files (.txt and .csv) \n               while developing.\nFor submission: \n  * Only one label name per net name\n  * Use only VSupply for power
* =============================\nREPLACE WITH YOUR DETAILS\nE. Stewdent.,  00024601\n=============================
.inc TIP31C.lib
* =============================\nIncludes (don't fiddle with this!!)\n=============================
* =======================================\nYour circuit goes here, these are just placeholders.\n=======================================
* PLEASE WAIT FOR YOUR SIMULATION TO FINISH BEFORE SUBMITTING.
.tran 0 {transtop} 0
.include A5cfg.txt
* Motor control\n(input to your circuit)
* 5V supply \n(input to your circuit)
* Battery supply \n(input to your circuit)
* Motor voltage\n(Output from your circuit)
* Model of the motor
.backanno
.end
